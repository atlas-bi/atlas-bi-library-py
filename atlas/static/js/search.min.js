"use strict";!function(){var e,t,n=function(e,t,n){null===n&&(n="");var o=RegExp("\\b("+t+"=).*?(&|#|$)");return e.search(o)>=0?""===n?e.replace(o,""):e.replace(o,"$1"+n+"$2"):(e=e.replace(/[?#]$/,""),""===n)?e:e+(e.indexOf("?")>0?"&":"?")+t+"="+n},o=function(e,t){var n=decodeURIComponent(t||window.location.href),o=RegExp("[?&]"+e+"=([^&#]*)","i").exec(n);return o?o[1]:null},r=function(r,a){document.querySelector(".body-mainCtn")&&(document.querySelector(".body-mainCtn").style.opacity=.5);var l="/search"===window.location.pathname.toLowerCase(),u=a;l?(r=encodeURIComponent(r||o("query",a)),u=a||n(n(window.location.href.replace(window.location.origin,""),"query",r),"page","")):a?u=a:(u="/search/?query="+r,"/users"===window.location.pathname.toLowerCase()?u+="&type=users":"/groups"===window.location.pathname.toLowerCase()&&(u+="&type=groups"));var y=u.replace("/search/?query=","");e=new Date,null!=r&&r.length>0||void 0!==a?(document.documentElement.scrollTop=0,document.body.scrollTop=0,void 0!==t&&clearTimeout(t),m.href=a||p,history.pushState({state:"ajax",search:r},document.title,c.location.origin+"/search/?query="+encodeURI(decodeURI(y))),null!==d&&d.abort(),(d=new XMLHttpRequest).open("get",u,!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.setRequestHeader("X-CSRFToken",csrftoken),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.send(),d.addEventListener("load",function(){v(d.responseText,m,s,i,t,u,y,r)})):i.dispatchEvent(new CustomEvent("load-ajax",{detail:p}))},a=function(e){r(null,e)},i=document,c=window,l=i.querySelector("#search-form"),s=i.querySelectorAll(".body-mainCtn")[0],u=l.querySelectorAll("input")[0],d=null,m=document.createElement("a");document.addEventListener("click",function(e){e.target.closest("#nav-search")&&(document.documentElement.scrollTop=0,document.body.scrollTop=0)});var p=c.location.pathname.toLowerCase().startsWith("/search")?"/":c.location.href,v=function(t,n,o,r,a,i,l,s){document.querySelector(".side-links")&&(document.querySelector(".side-links").innerHTML=""),document.querySelector("#AdColTwo")&&(document.querySelector("#AdColTwo").innerHTML=""),o.style.visibility="visible",o.style.removeProperty("overflow"),o.innerHTML=t;for(var u,d=Array.prototype.slice.call(o.querySelectorAll('script:not([type="application/json"])')),m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=unsupportedIterableToArray(e))){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(d);!(u=m()).done;){var p=u.value,v=document.createElement("script");v.innerHTML=p.innerHTML,v.type="text/javascript",v.setAttribute("async","true"),o.append(v),p.remove()}r.title="Search: "+s+" | Atlas BI Library",history.replaceState({state:"ajax",search:s},document.title,c.location.origin+"/search/?query="+encodeURI(decodeURI(l))),setTimeout(function(){document.dispatchEvent(new CustomEvent("analytics-post",{cancelable:!0,detail:{value:Date.now()-e.getTime(),type:"newpage"}}))},3e3),document.dispatchEvent(new CustomEvent("related-reports")),document.dispatchEvent(new CustomEvent("ajax")),document.dispatchEvent(new CustomEvent("ss-load")),document.dispatchEvent(new CustomEvent("code-highlight")),document.querySelector(".body-mainCtn")&&(document.querySelector(".body-mainCtn").style.opacity="")};l.addEventListener("click",function(e){e.stopPropagation()}),l.addEventListener("submit",function(e){e.preventDefault()});var y=null;u.addEventListener("input",function(){window.clearTimeout(y),y=window.setTimeout(function(){""!==u.value.trim()&&(r(u.value,null),window.clearTimeout(y))},250)}),u.addEventListener("keydown",function(e){13===Number(e.keyCode)&&""!==u.value.trim()&&r(u.value,null)}),i.addEventListener("click",function(e){return e.target.matches(".search-filter input")?(e.preventDefault(),a(e.target.closest(".search-filter input").value),!1):e.target.matches(".page-link")?(e.target.closest(".search-filter input")&&a(e.target.closest(".search-filter input").value),!1):void 0})}(),function(){var e,t=function(e){delete o[e];var t=document.location.hash?"#"+document.location.hash.replace("#",""):"",n=Object.keys(o).map(function(e){return e+"="+o[e]}).join("&");n=void 0!==n&&""!==n?"?"+n:"";var r=window.location.origin+window.location.pathname+n+t;history.replaceState({},document.title,r)},n=function(e,t){var n=document.createElement("div");n.classList.add("notification","is-light",e,"has-text-centered","my-0");var o=document.createElement("button");o.classList.add("delete"),o.addEventListener("click",function(){n.remove()}),n.innerHTML="<p><b>"+DOMPurify.sanitize(t)+"</b></p>",n.insertBefore(o,n.firstChild),document.querySelector("body").insertBefore(n,document.querySelector("body").firstChild)},o=getUrlVars();o.error&&(n("is-danger",decodeURI(o.error).replace(/\+/g,/ /)),t("error")),o.success&&(n("is-success",decodeURI(o.success).replace(/\+/g,/ /)),t("success")),o.warning&&(n("is-warning",decodeURI(o.warning).replace(/\+/g,/ /)),t("warning"))}();